{"version":3,"sources":["User.js","Comment.js","CommentList.js","Post.js","PostList.js","App.js","api/posts.js","api/users.js","api/comments.js","index.js"],"names":["User","_ref","user","name","email","react_default","a","createElement","className","Comment","_ref$comment","comment","body","CommentList","comments","map","currentComment","src_Comment","key","id","Post","post","title","commentList","onTouchStart","concat","src_User","src_CommentList","PostList","posts","currentPost","src_Post","preparedPosts","getPostsWithUsersAndComments","PostsList","UsersList","CommentsArr","find","person","userId","filter","postId","Object","objectSpread2","App","_useState","useState","_useState2","slicedToArray","isInitialized","setInitialized","_useState3","_useState4","isLoading","setLoading","_useState5","_useState6","hasError","setError","loadPostsWithUsersAndComments","_ref2","users","regenerator_default","async","_context","prev","next","awrap","Promise","all","fetch","then","response","json","sent","toConsumableArray","t0","stop","Fragment","type","onClick","src_PostList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.95775c1e.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction User({ user }) {\n  const { name, email } = user;\n\n  return (\n    <div>\n      <h3 className=\"user-name\">{name}</h3>\n      <p>{email}</p>\n    </div>\n  );\n}\n\nconst userPropTypes = PropTypes.shape({\n  id: PropTypes.number,\n  name: PropTypes.string,\n  email: PropTypes.string,\n  address: PropTypes.shape({\n    street: PropTypes.string,\n    city: PropTypes.string,\n  }),\n}).isRequired;\n\nUser.propTypes = { user: userPropTypes.isRequired };\n\nexport default User;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Comment = ({ comment: { name, body, email } }) => (\n  <div className=\"comment\">\n    <h3 className=\"comment-name\">{name}</h3>\n    <p className=\"comment-body\">{body}</p>\n    <p className=\"comment-email\">\n      <span>By </span>\n      {email}\n    </p>\n  </div>\n);\n\nComment.propTypes\n  = { comment: PropTypes.oneOfType([PropTypes.object]).isRequired };\n\nexport default Comment;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Comment from './Comment';\n\nconst CommentList = ({ comments }) => (\n  <div>\n    {comments.map(currentComment => (\n      <Comment comment={currentComment} key={currentComment.id} />))}\n  </div>\n);\n\nCommentList.propTypes\n  = { comments: PropTypes.oneOfType([PropTypes.array]).isRequired };\n\nexport default CommentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\nimport CommentList from './CommentList';\n\nconst Post = ({ post }) => {\n  const { title, body, user, commentList } = post;\n\n  return (\n    <div\n      className=\"flip-container\"\n      onTouchStart=\"this.classList.toggle('hover');\"\n    >\n      <div className=\"flipper\">\n        <div className=\"front\">\n          <h2 className=\"front-heading\">{title}</h2>\n          <p className=\"front-body\">{ `\"${body}\"`}</p>\n          <User user={user} />\n        </div>\n        <div className=\"back\">\n          <p className=\"back-heading\">Comments:</p>\n          <CommentList comments={commentList} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst postProps = PropTypes.shape({\n  id: PropTypes.number,\n  title: PropTypes.string,\n}).isRequired;\n\nPost.propTypes = { post: postProps.isRequired };\n\nexport default Post;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Post from './Post';\n\nconst PostList = ({ posts }) => posts.map(currentPost => (\n  <Post post={currentPost} key={currentPost.id} />\n));\n\nPostList.propTypes = {\n  posts: PropTypes.oneOfType([PropTypes.array]).isRequired,\n};\n\nexport default PostList;\n","import React, { useState } from 'react';\nimport './App.css';\n\nimport { getPosts } from './api/posts';\nimport { getUsers } from './api/users';\nimport { getComments } from './api/comments';\n\nimport PostList from './PostList';\n\nlet preparedPosts = [];\n\nconst getPostsWithUsersAndComments = (PostsList, UsersList, CommentsArr) => (\n  PostsList.map((post) => {\n    const user = UsersList.find(person => person.id === post.userId);\n    const commentList = CommentsArr\n      .filter(comment => comment.postId === post.id);\n\n    return {\n      ...post,\n      user,\n      commentList,\n    };\n  })\n);\n\nconst App = () => {\n  const [isInitialized, setInitialized] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [hasError, setError] = useState(false);\n\n  const loadPostsWithUsersAndComments = async() => {\n    try {\n      setError(false);\n      setLoading(true);\n\n      const [posts, users, comments] = await Promise\n        .all([getPosts(), getUsers(), getComments()]);\n\n      preparedPosts = [...getPostsWithUsersAndComments(posts, users, comments)];\n      setInitialized(true);\n    } catch {\n      setError(true);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <>\n      {!isInitialized && !isLoading && !hasError && (\n        <button\n          type=\"button\"\n          className=\"btnLoad\"\n          onClick={loadPostsWithUsersAndComments}\n        >\n          Load\n        </button>\n      )}\n      <div className=\"App\">\n        {isLoading && !hasError && (\n          <div className=\"hoja\">Loading...</div>\n        )}\n\n        {hasError && (\n          <button\n            type=\"button\"\n            onClick={loadPostsWithUsersAndComments}\n          >\n            Try again\n          </button>\n        )}\n\n        {isInitialized && !isLoading && (\n          <PostList posts={[...preparedPosts]} />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","const postsURL = 'https://jsonplaceholder.typicode.com/posts';\n\nexport const getPosts = () => fetch(postsURL)\n  .then(response => response.json());\n","const usersURL = 'https://jsonplaceholder.typicode.com/users';\n\nexport const getUsers = () => fetch(usersURL)\n  .then(response => response.json());\n","const commentsURL = 'https://jsonplaceholder.typicode.com/comments';\n\nexport const getComments = () => fetch(commentsURL)\n  .then(response => response.json());\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}